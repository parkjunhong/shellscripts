#!/bin/bash

# =======================================
# @auther: parkjunhong77@gmail.com
# @since: 2020-01-10
# =======================================

# [0.0.0.0 - 255.255.255.255/0-32]
IPV4_REGEX1="^(1?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])(\.(1?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])){3}/([12]?[0-9]|3[012])/([12]?[0-9]|3[012])$"

# [1.0.0.0 - 255.255.255.255/0-32]
IPV4_REGEX2="^([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(\.([0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}/([12]?[0-9]|3[012])/([12]?[0-9]|3[012])$"

ipv4=$1
if [[ $ipv4 =~ $IPV4_REGEX1 ]];
then
  echo "[REGEX1] $ipv4  : matched"
else
  echo "[REGEX1] $ipv4  : not matched"
fi

if [[ $ipv4 =~ $IPV4_REGEX2 ]];
then
  echo "[REGEX2] $ipv4  : matched"
else
  echo "[REGEX2] $ipv4  : not matched"
fi

exit 0

