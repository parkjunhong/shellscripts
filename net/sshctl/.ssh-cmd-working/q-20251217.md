# 최신 업로드 파일명
- sshctl-v10: 프로그램 코드
- sshctl.completion-v10: 프로그램 bash_completion 코드
- sshctl-개발요구사항-SR_v2.1.0: 개발요구사항 문서
- sshctl-보안설계-SR_v1.3.0: 보안설계 문서
- sshctl-사용법-SR_v1.2.0: 사용자 가이드
- sshctl-함수정의문서-SR_v1.1.1: 함수설계서

>>> q-20251217-005
# 신규기능

## '바로 접속' 기능
반복적으로 검색되는 목록인 경우 번호(#)가 고정되기 때문에,
이런 경우 `sshctl <expr> [--number|-n] #번호`와 같이 전달하면 바로 접속.

옵션: --number | -n
의미: 접속 목록의 번호(#)에 해당하는 값
동작: sshctl <expr> --number 2 또는 sshctl --number 2 <expr>
  - `--number | -n` 뒤에는 반드시 숫자가 와야 함.
  - 검색목록에서 2번째 '연결정보'로 바로 접속  
  - 검색전체 목록은 보여주지 않고, 2번째 '연결정보'만 보여주고
    '접속' 기능과 동일하게 진행
오류처리:
  - 번호(#)값이  검색목록개수보다 크거나 1보다 작은 경우 오류처리.
기능목록:
  - 연결정보 '추가/수정/삭제', 그룹이동, 비밀번호 일괄변경과 상호배타적 사용
  - global 옵션과는 함께 사용


"바로 접속"이라는 새로운 기능이 추가되었어. 
첨부된 프로그램(sshctl-v10, sshctl.completion-v10) 파일을 기준으로,

아래 문서 3가지에 대해서 새로운 버전의 문서를 작성해 주세요.
- sshctl-개발요구사항-SR_v2.1.0: 개발요구사항 문서
  - 신규버전: v2.1.1
- sshctl-사용법-SR_v1.2.0: 사용자 가이드
  - 신규버전: v1.2.1
- sshctl-함수정의문서-SR_v1.1.1: 함수설계서
  - 신규버전: v1.1.2

3개의 문서를 작성하는 기준은 아래와 같습니다.

# 문서 작성방법
문서 버전포맷:  SR_v{number}.{number}.{number}

1. 최신문서(SR_vx.y.z)를 기준으로 '추가/수정/삭제'된 내용만 새로 작성하고, 전체 문서를 **다시** 작성한다.
  작성 기준은 아래 내용을 따른다.
    0. x.y.z의 "목차" 구조는 절대적으로 유지한다.
    1. 변경사항이 발생하지 않은 내용은 그대로 유지한다. 
    2. 새로 추가된 부분은 새로운 목록를 추가해서 작성한다.
  - 마지막 챕터를 "Changelog"로 정하고 변경사항을 기록한다.
    * "Changelog" 내용은 `<버전> <일자> <시간>` 순서로 내림차순으로 정렬한다.
    * <버전> 정보는 backtick(`) 으로 감싼다.
    * 작성예시
    ```
    * `v1.1.0`;2025-12-10 16:54
      * ...
        * ...
          * ...
        * ...
      * ...
    * `v1.0.0`;2025-12-09 12:12
      * ...
    ```

>>> q-20251217-005

첨부파일 "sshctl-v10" 코드에 아래 '바로 접속' 기능을 적용해 줘.

## '바로 접속' 기능
반복적으로 검색되는 목록인 경우 번호(#)가 고정되기 때문에,
이런 경우 `sshctl <expr> [--number|-n] #번호`와 같이 전달하면 바로 접속.

옵션: --number | -n
의미: 접속 목록의 번호(#)에 해당하는 값
동작: sshctl <expr> --number 2 또는 sshctl --number 2 <expr>
  - `--number | -n` 뒤에는 반드시 숫자가 와야 함.
  - 검색목록에서 2번째 '연결정보'로 바로 접속  
  - 검색전체 목록은 보여주지 않고, 2번째 '연결정보'만 보여주고
    '접속' 기능과 동일하게 진행
오류처리:
  - 번호(#)값이  검색목록개수보다 크거나 1보다 작은 경우 오류처리.
기능목록:
  - 연결정보 '추가/수정/삭제', 그룹이동, 비밀번호 일괄변경과 상호배타적 사용
  - global 옵션과는 함께 사용


예상동작:
  'mycom'에 해당하는 목록이 아래와 같이 2개가 있다면,
  ```
  =======================================================================
  #     Group      Name     Host           Port   User      Credential
  -----------------------------------------------------------------------
  0001  1.MYCOM    개발서버  192.168.12.3   22     user      123
  0002  2.MYCOM    운영서버  192.168.12.4   22     opuser    123563
  =======================================================================
  ```

  sshctl mycom -n 2 또는 sshctl -n 2 mycom  인 경우
  ```
  user@local: $ sshctl mycom -n 2
  =======================================================================
  Group      Name     Host           Port   User      Credential
  -----------------------------------------------------------------------
  2.MYCOM    운영서버  192.168.12.4   22     opuser    123563
  =======================================================================

  ❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗
  ❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗
  ❗❗❗                                          ❗❗❗
  ❗❗❗ 경고: sshpass + password 방식 접속입니다 ❗❗❗
  ❗❗❗                                          ❗❗❗
  ❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗
  ❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗

  opserver@mycom:$ 
  ```


>>> q-20251217-004

# 함수정의문서 갱신
현재 문서: sshctl-함수정의문서-SR_v1.0.0
신규 문서: sshctl-함수정의문서-SR_v1.1.0

## 변경내용
'sshctl-v10' 스크립트 파일을 분석해서 작성.


## 함수정의문서 작성방법
문서 버전포맷:  SR_v{number}.{number}.{number}

1. 최신문서(SR_vx.y.z)를 기준으로 '추가/수정/삭제'된 내용만 새로 작성하고, 전체 문서를 **다시** 작성한다.
  작성 기준은 아래 내용을 따른다.
    0. x.y.z의 "목차" 구조는 절대적으로 유지한다.
    1. 변경사항이 발생하지 않은 내용은 그대로 유지한다. 
    2. 새로 추가된 부분은 새로운 목록를 추가해서 작성한다.
  - 마지막 챕터를 "Changelog"로 정하고 변경사항을 기록한다.
    * "Changelog" 내용은 `<버전> <일자> <시간>` 순서로 내림차순으로 정렬한다.
    * <버전> 정보는 backtick(`) 으로 감싼다.
    * 작성예시
    ```
    * `v1.1.0`;2025-12-10 16:54
      * ...
        * ...
          * ...
        * ...
      * ...
    * `v1.0.0`;2025-12-09 12:12
      * ...
    ```


>>> q-20251217-003

## 비밀번호 일괄변경
>>>
'비밀번호 일괄변경' 기능은 여러 개의 '연결정보'에 대해 같은 비밀번호를 적용할 때 유용하게 사용됩니다.

- 옵션: --modify-credential | -mc

기능동작은 다음과 같습니다.
1. 대상 선택
  -기존의 '연결정보 삭제 (--delete-connection | -d)'처럼 콤마(,)를 이용하여 여러 개의 '연결정보'를 선택합니다.
  - 검색된 '연결정보'에서 'credential' 정보는 평문(plain text)로 보여줍니다.
2. 비밀번호 변경
  - 기존의 '그룹 변경 (--move-group-connection | -mg)'처럼 변경하려는 정보(credential)만 변경합니다.
  - 기존의 '연결정보 변경(--modify-connection | -m)'처럼 '비밀번호를 변경'하는 것과 같은 방식을 적용합니다.
  - 단 여러 개의 '연결정보'에 대한 비밀번호를 한번에 변경하기 때문에 '기본값 또는 이전값'에 해당하는 정보를 필요하지 않습니다.
3. 변경된 정보 제공
  - 기존의 '연결정보 변경(--modify-connection | -m)'처럼 정보가 변경된 이후의 '연결정보'를 제공합니다.
  - 이때 'credential'은 평문(plain text)로 제공합니다.


예상 실행 모습은 아래와 같습니다.
```
$ sshctl --modify-credential # 또는 sshctl --mc

=======================================================================
Group      Name     Host           Port   User      Credential
-----------------------------------------------------------------------
1.MYCOM    개발서버  192.168.12.3   22     user      123
2.MYCOM    운영서버  192.168.12.4   22     opuser    123563
=======================================================================
❓  비밀번호를 변경할 번호(#)를 입력하세요. (콤마(,)로 구분해서 입력) [1 ~ 24] : 
-----------------------------------------------------------
 * 🔑  'password' 정보를 입력하세요.
       > []: *******
-----------------------------------------------------------
수정 후 connection:
*****************************************************************
⚙️  configuration: /home/parkjunhong/.sshctl/configuration.conf
⚙️  masterkey    : /home/parkjunhong/.sshctl/masterkey.pem
*****************************************************************
===========================================================
Group    Name     Host          Port  User    Credential
-----------------------------------------------------------
1.MYCOM  개발서버  192.168.12.3  22    user    abcdefg
2.MYCOM  운영서버  192.168.12.4  22    opuser  abcdefg
===========================================================
```
<<<

"## 비밀번호 일괄변경" 기능을 아래 내용에 따라서 첨부된 3개의 문서에 대해서 새로운 버전으로 작성해 주세요.

- 개발요구사항: sshctl-개발요구사항-SR_v2.0.1.md -> 2.1.0
- 보안설계: sshctl-보안설계-SR_v1.2.1.md        -> 1.3.0
- 사용법: sshctl-사용법-SR_v1.1.0.md            -> 1.2.0

---

# 개발 요구사항
현재 문서: sshctl-개발요구사항-SR_v2.0.1
신규 문서: sshctl-개발요구사항-SR_v2.1.0

## 변경내용
"10. credential 표시 정책"
- '비밀번호 일괄변경(--modify-credential|-mc)'에 대한 `credential` 처리 규칙
  - 목록 제공시 'credential'을 평문(plain text)로 제공
  - bash completion에서 '--show-credential | -s' 미지원.

## 개발요구서 작성방법
문서 버전포맷:  SR_v{number}.{number}.{number}

1. 개발요구서(SR_vx.y.z)를 기준으로 '추가/수정/삭제'된 내용만 새로 작성하고, 전체 문서를 **다시** 작성한다.
  작성 기준은 아래 내용을 따른다.
    0. x.y.z의 "목차" 구조는 절대적으로 유지한다.
    1. 변경사항이 발생하지 않은 내용은 그대로 유지한다. 
    2. 새로 추가된 부분은 새로운 목록를 추가해서 작성한다.
  - 마지막 챕터를 "Changelog"로 정하고 변경사항을 기록한다.
    * "Changelog" 내용은 `<버전> <일자> <시간>` 순서로 내림차순으로 정렬한다.
    * <버전> 정보는 backtick(`) 으로 감싼다.
    * 작성예시
    ```
    * `v1.1.0`;2025-12-10 16:54
      * ...
        * ...
          * ...
        * ...
      * ...
    * `v1.0.0`;2025-12-09 12:12
      * .
    ```
--- 
# 보안설계
현재 문서: sshctl-보안설계-SR_v1.2.1
신규 문서: sshctl-보안설계-SR_v1.3.0

## 변경내용
"11.5 credential 표시 정책의 보안 기준 확정" 내용
  - '비밀번호 일괄변경(--modify-credential|-mc)'에 대한 `credential` 처리 규칙
    - 목록 제공시 'credential'을 평문(plain text)로 제공
    - bash completion에서 '--show-credential | -s' 미지원.

## 보안설계문서 작성방법
문서 버전포맷:  SR_v{number}.{number}.{number}

1. 보안설계문서(SR_vx.y.z)는 vx.y.z을 기준으로 '추가/수정/삭제'된 내용만 새로 작성하고, 전체 문서를 **다시** 작성한다.
  - 보안설계문서(SR_vx.y.z)의 문서구조처럼 "목차(바로가기)"를 작성한다.
    0. vx.y.z 내용을 근거로 최종적으로 결정된 내용을 작성한다.
    1. 변경사항이 발생하지 않은 내용은 그대로 유지한다. 
    2. 새로 추가된 부분은 새로운 목록를 추가해서 작성한다.
  - 마지막 챕터를 "Changelog"로 정하고 변경사항을 기록한다.
    * "Changelog" 내용은 `<버전> <일자> <시간>` 순서로 내림차순으로 정렬한다.
    * <버전> 정보는 backtick(`) 으로 감싼다.
    * 작성예시
    ```
    * `v1.1.0`;2025-12-10 16:54
      * ...
        * ...
          * ...
        * ...
      * ...
    * `v1.0.0`;2025-12-09 12:12
      * .
---
# '사용법' 문서
현재 문서: sshctl-사용법-SR_v1.1.0
신규 문서: sshctl-사용법-SR_v1.2.0

## 변경내용
'비밀번호 일괄변경' 기능을 '그룹이동'과 '접속' 사이에 위치시켜 주세요.

## '사용법' 문서 작성방법
문서 버전포맷:  SR_v{number}.{number}.{number}

1. '사용법' 문서(SR_vx.y.z)를 기준으로 '추가/수정/삭제'된 내용만 새로 작성하고, 전체 문서를 **다시** 작성한다.
  작성 기준은 아래 내용을 따른다.
    0. x.y.z의 "목차" 구조는 절대적으로 유지한다.
    1. 변경사항이 발생하지 않은 내용은 그대로 유지한다. 
    2. 새로 추가된 부분은 새로운 목록를 추가해서 작성한다.
  - 마지막 챕터를 "Changelog"로 정하고 변경사항을 기록한다.
    * "Changelog" 내용은 `<버전> <일자> <시간>` 순서로 내림차순으로 정렬한다.
    * <버전> 정보는 backtick(`) 으로 감싼다.
    * 작성예시
    ```
    * `v1.1.0`;2025-12-10 16:54
      * ...
        * ...
          * ...
        * ...
      * ...
    * `v1.0.0`;2025-12-09 12:12
      * .
    ```


>>> q-20251217-002

첨부파일(sshctl.completion-v9)에 아래 내용을 적용해 줘.

1. '비밀번호 일괄변경' 옵션 추가
  - 옵션: --modify-credential | -mc
  - 'long/short 옵션 자동 완성 목록'에 추가
  - 'mutual exclusive mode options' 에 추가  
2. '--show-credential / -s' 옵션은 허용하지 않음.


>>> q-20251217-001

첨부된 파일(sshctl-v9)은 현재까지 내용이 반영된 가장 최신 코드야.
이 파일을 기준으로 아래 내용을 적용시켜 줘.

## 비밀번호 일괄변경
'비밀번호 일괄변경' 기능은 여러 개의 '연결정보'에 대해 같은 비밀번호를 적용할 때 유용하게 사용됩니다.

- 옵션: --modify-credential | -mc

기능동작은 다음과 같습니다.
1. 대상 선택
  -기존의 '연결정보 삭제 (--delete-connection | -d)'처럼 콤마(,)를 이용하여 여러 개의 '연결정보'를 선택합니다.
  - 검색된 '연결정보'에서 'credential' 정보는 평문(plain text)로 보여줍니다.
2. 비밀번호 변경
  - 기존의 '그룹 변경 (--move-group-connection | -mg)'처럼 변경하려는 정보(credential)만 변경합니다.
  - 기존의 '연결정보 변경(--modify-connection | -m)'처럼 '비밀번호를 변경'하는 것과 같은 방식을 적용합니다.
  - 단 여러 개의 '연결정보'에 대한 비밀번호를 한번에 변경하기 때문에 '기본값 또는 이전값'에 해당하는 정보를 필요하지 않습니다.
3. 변경된 정보 제공
  - 기존의 '연결정보 변경(--modify-connection | -m)'처럼 정보가 변경된 이후의 '연결정보'를 제공합니다.
  - 이때 'credential'은 평문(plain text)로 제공합니다.


예상 실행 모습은 아래와 같습니다.
```
$ sshctl --modify-credential # 또는 sshctl --mc

=======================================================================
Group      Name     Host           Port   User      Credential
-----------------------------------------------------------------------
1.MYCOM    개발서버  192.168.12.3   22     user      123
2.MYCOM    운영서버  192.168.12.4   22     opuser    123563
=======================================================================
❓  비밀번호를 변경할 번호(#)를 입력하세요. (콤마(,)로 구분해서 입력) [1 ~ 24] : 
-----------------------------------------------------------
 * 🔑  'password' 정보를 입력하세요.
       > []: *******
-----------------------------------------------------------
수정 후 connection:
*****************************************************************
⚙️  configuration: /home/parkjunhong/.sshctl/configuration.conf
⚙️  masterkey    : /home/parkjunhong/.sshctl/masterkey.pem
*****************************************************************
===========================================================
Group    Name     Host          Port  User    Credential
-----------------------------------------------------------
1.MYCOM  개발서버  192.168.12.3  22    user    abcdefg
2.MYCOM  운영서버  192.168.12.4  22    opuser  abcdefg
===========================================================
```

이후 작업은 아래와 같습니다.

- 개발요구성 수정
- 보안요구문서 수정
- 사용법 문서 수정
- bash completion 수정
- man(1), man(5), man(7) 수정

